```c++
void something_often_to_do()
{
    int* p = new int[1024];
	
    ...
	
    if (func1() == false) /* 中途发生意外需要退出 */
    {
        ...
        return; /* 退出前却忘记释放内存 */
    }
	
    ...
	
    if (func2() == false) /* 中途退出的情况可能不止一种 */
    {
        ...
        return;
    }
	
    ...
	
    if (func3() == false) /* 中途退出的情况可能不止一种 */
    {
        ...
        return;
    }
	
    ...
	
    delete[] p;
}
```

大家一般都记得会在函数尾部释放内存，但往往会忘记在异常退出的地方加上`delete[]`语句。正如函数名所示，若这个函数需要被反复调用（比如几百 ms 调用一次），必然会出现内存泄漏。

最优雅的解决之法自然是自 C++ 11 引入的智能指针。

当然，你也可以使用 goto 语句，但 goto 这个东西，除非你知道自己在干什么，否则都不要用。

类似的问题很有很多，比如，这个函数是一个 thread-safe 函数，你在开头对它上锁，但却忘记在异常退出的时候给它解锁。